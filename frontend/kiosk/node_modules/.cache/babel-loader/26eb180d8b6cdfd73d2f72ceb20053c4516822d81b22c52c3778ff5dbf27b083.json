{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useRef, useCallback } from \"react\";\nexport const useCamera = () => {\n  _s();\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [photo, setPhoto] = useState(null);\n  const webcamRef = useRef(null);\n  const takePhoto = useCallback(async () => {\n    setIsLoading(true);\n    setError(null);\n    try {\n      if (!webcamRef.current) {\n        throw new Error(\"Kamera başlatılamadı\");\n      }\n      const photoData = webcamRef.current.getScreenshot();\n      if (!photoData) {\n        throw new Error(\"Fotoğraf çekilemedi\");\n      }\n      setPhoto(photoData);\n      return photoData;\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : \"Kamera hatası oluştu\";\n      setError(errorMessage);\n      return null;\n    } finally {\n      setIsLoading(false);\n    }\n  }, []);\n  const resetPhoto = useCallback(() => {\n    setPhoto(null);\n    setError(null);\n  }, []);\n  return {\n    isLoading,\n    error,\n    photo,\n    webcamRef,\n    takePhoto,\n    resetPhoto\n  };\n};\n_s(useCamera, \"2mTQz2u9u4t6n6dkmbyYVVj6/Js=\");\nexport default useCamera;","map":{"version":3,"names":["useState","useRef","useCallback","useCamera","_s","isLoading","setIsLoading","error","setError","photo","setPhoto","webcamRef","takePhoto","current","Error","photoData","getScreenshot","err","errorMessage","message","resetPhoto"],"sources":["/Users/halilberkaysahin/Desktop/bombaaaa/smart-mirror/frontend/kiosk/src/hooks/useCamera.ts"],"sourcesContent":["import { useState, useRef, useCallback } from \"react\";\nimport Webcam from \"react-webcam\";\n\ninterface UseCameraReturn {\n  isLoading: boolean;\n  error: string | null;\n  photo: string | null;\n  webcamRef: React.RefObject<Webcam>;\n  takePhoto: () => Promise<string | null>;\n  resetPhoto: () => void;\n}\n\nexport const useCamera = (): UseCameraReturn => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [photo, setPhoto] = useState<string | null>(null);\n  const webcamRef = useRef<Webcam>(null);\n\n  const takePhoto = useCallback(async () => {\n    setIsLoading(true);\n    setError(null);\n\n    try {\n      if (!webcamRef.current) {\n        throw new Error(\"Kamera başlatılamadı\");\n      }\n\n      const photoData = webcamRef.current.getScreenshot();\n      if (!photoData) {\n        throw new Error(\"Fotoğraf çekilemedi\");\n      }\n\n      setPhoto(photoData);\n      return photoData;\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : \"Kamera hatası oluştu\";\n      setError(errorMessage);\n      return null;\n    } finally {\n      setIsLoading(false);\n    }\n  }, []);\n\n  const resetPhoto = useCallback(() => {\n    setPhoto(null);\n    setError(null);\n  }, []);\n\n  return {\n    isLoading,\n    error,\n    photo,\n    webcamRef,\n    takePhoto,\n    resetPhoto,\n  };\n};\n\nexport default useCamera;\n"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,MAAM,EAAEC,WAAW,QAAQ,OAAO;AAYrD,OAAO,MAAMC,SAAS,GAAGA,CAAA,KAAuB;EAAAC,EAAA;EAC9C,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGN,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACO,KAAK,EAAEC,QAAQ,CAAC,GAAGR,QAAQ,CAAgB,IAAI,CAAC;EACvD,MAAM,CAACS,KAAK,EAAEC,QAAQ,CAAC,GAAGV,QAAQ,CAAgB,IAAI,CAAC;EACvD,MAAMW,SAAS,GAAGV,MAAM,CAAS,IAAI,CAAC;EAEtC,MAAMW,SAAS,GAAGV,WAAW,CAAC,YAAY;IACxCI,YAAY,CAAC,IAAI,CAAC;IAClBE,QAAQ,CAAC,IAAI,CAAC;IAEd,IAAI;MACF,IAAI,CAACG,SAAS,CAACE,OAAO,EAAE;QACtB,MAAM,IAAIC,KAAK,CAAC,sBAAsB,CAAC;MACzC;MAEA,MAAMC,SAAS,GAAGJ,SAAS,CAACE,OAAO,CAACG,aAAa,CAAC,CAAC;MACnD,IAAI,CAACD,SAAS,EAAE;QACd,MAAM,IAAID,KAAK,CAAC,qBAAqB,CAAC;MACxC;MAEAJ,QAAQ,CAACK,SAAS,CAAC;MACnB,OAAOA,SAAS;IAClB,CAAC,CAAC,OAAOE,GAAG,EAAE;MACZ,MAAMC,YAAY,GAAGD,GAAG,YAAYH,KAAK,GAAGG,GAAG,CAACE,OAAO,GAAG,sBAAsB;MAChFX,QAAQ,CAACU,YAAY,CAAC;MACtB,OAAO,IAAI;IACb,CAAC,SAAS;MACRZ,YAAY,CAAC,KAAK,CAAC;IACrB;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMc,UAAU,GAAGlB,WAAW,CAAC,MAAM;IACnCQ,QAAQ,CAAC,IAAI,CAAC;IACdF,QAAQ,CAAC,IAAI,CAAC;EAChB,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO;IACLH,SAAS;IACTE,KAAK;IACLE,KAAK;IACLE,SAAS;IACTC,SAAS;IACTQ;EACF,CAAC;AACH,CAAC;AAAChB,EAAA,CA5CWD,SAAS;AA8CtB,eAAeA,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}